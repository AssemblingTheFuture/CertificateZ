<!DOCTYPE html>

<html lang = "en">

	<head>
		<meta charset = "utf-8" name = "viewport" content = "width = device-width, initial-scale = 1.0">
		<link rel = "stylesheet" href = "src/main.css">
		<title>zDynamics | The Future is ROBOTICS</title>
		<script src = "https://cdn.jsdelivr.net/npm/brython@3/brython.min.js"></script>
		<script src = "https://cdn.jsdelivr.net/npm/brython@3/brython_stdlib.js"></script>
		<script src="https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js"></script>
		<script src = "src/certificatesAPI.py" type = "text/python"></script>
	</head>

	<body onload="brython()">

		<script type="text/javascript">
			
			async function main() {
				/*Load Pyodide*/
				let pyodide = await loadPyodide();

				/*Load micropip to install Wheel packages
				await pyodide.loadPackage("micropip");*/

				await pyodide.loadPackage("Pillow")

				/*Run python code*/
				await pyodide.runPythonAsync(`
					from pyodide.http import pyfetch
					response = await pyfetch("src/createDiploma.py")
					with open("createDiploma.py", "wb") as f:
						f.write(await response.bytes())
				`);
				
				pkg = pyodide.pyimport("createDiploma");
				/*pkg.do_something();*/
											
			}

			main();
		</script>

		<div class = "main">

			<!-- Title Section -->
			<h1 id = 'head1' class = "header" style = "margin-top: 50px;">Get your Digital Certificate!</h1>

			<!-- Search Section -->
			<div class = "group">
				
				<div class = "search">
					<input type = "text" id = "address-input" placeholder = "Enter Certificate Address" class = "input basic smooth-corner"> <button id = "get-certificate" class = "button" style = "margin-left: 10px;">Search</button>
				</div>

				<!-- Subtitle Section -->
				<h4 id = 'head4' class = "header" style = "margin-top: 14px;">Don't know the address? <a href="/students/" target = "_blank">Check it in our database!</a></h4>

			</div>

			<!-- Results Section -->
			<div id = "request-result" class = "output"></div>

			<!-- Footer Section -->
			<footer class = "footer jc-center">
				<img src = "./assets/hecho-en-mexico.png" alt = "Hecho en MÃ©xico" class = "image-mexico">
				<img src = "./assets/bny.png" alt = "Assembling the Future... TOGETHER!" class = "image-bny">
				<img src = "./assets/logo.png" alt = "The Future is ROBOTICS" class = "image-logo">
			</footer>

		</div>

		<div class='light x1'></div>
		<div class='light x2'></div>
		<div class='light x3'></div>
		<div class='light x4'></div>
		<div class='light x5'></div>
		<div class='light x6'></div>
		<div class='light x7'></div>
		<div class='light x8'></div>
		<div class='light x9'></div>
		  
	</body>

</html>
